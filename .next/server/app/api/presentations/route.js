"use strict";(()=>{var e={};e.id=66,e.ids=[66],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},41808:e=>{e.exports=require("net")},71017:e=>{e.exports=require("path")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},24404:e=>{e.exports=require("tls")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},76240:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>w,originalPathname:()=>x,patchFetch:()=>O,requestAsyncStorage:()=>m,routeModule:()=>I,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>b});var i={};r.r(i),r.d(i,{GET:()=>S,POST:()=>_});var s=r(95419),a=r(69108),o=r(99678),n=r(78070),u=r(8234);let p=require("fs");var c=r.n(p),d=r(71017),l=r.n(d);async function S(e){try{let t=l().join(process.cwd(),"presentations"),r=[{id:"demo",title:"데모 프레젠테이션",description:"새롭게 디자인된 프레젠테이션 템플릿",icon:"FaRocket",user_id:"local",is_public:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"digital-transformation",title:"디지털 트랜스포메이션",description:"디지털 혁신 전략 프레젠테이션",icon:"FaLayerGroup",user_id:"local",is_public:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"modern",title:"모던 프레젠테이션",description:"현대적인 디자인의 프레젠테이션",icon:"FaRegFileAlt",user_id:"local",is_public:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"musicow",title:"Musicow 프레젠테이션",description:"음악 관련 서비스 소개",icon:"FaPen",user_id:"local",is_public:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"project-proposal",title:"프로젝트 제안서",description:"프로젝트 제안 템플릿",icon:"FaProjectDiagram",user_id:"local",is_public:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],i=[];for(let e of r){let r=l().join(t,e.id);c().existsSync(r)&&i.push(e)}if(process.env.SUPABASE_SERVICE_ROLE_KEY)try{let{searchParams:t}=new URL(e.url),r=t.get("user_id"),s="true"===t.get("public"),a=u.p.from("presentations").select("*").order("created_at",{ascending:!1});r?a=a.eq("user_id",r):s&&(a=a.eq("is_public",!0));let{data:o,error:n}=await a;!n&&o&&(i=[...i,...o])}catch(e){console.error("Database error:",e)}return n.Z.json(i)}catch(e){return console.error("API Error:",e),n.Z.json({error:e.message},{status:500})}}async function _(e){try{let{title:t,description:r,company_name:i,slides_data:s,template_type:a="basic",is_public:o=!1,user_id:p}=await e.json();if(!t||!s||!p)return n.Z.json({error:"Title, slides_data, and user_id are required"},{status:400});let{data:c,error:d}=await u.p.from("presentations").insert({title:t,description:r,company_name:i,slides_data:s,template_type:a,is_public:o,user_id:p}).select().single();if(d)throw d;return n.Z.json(c,{status:201})}catch(e){return n.Z.json({error:e.message},{status:500})}}let I=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/presentations/route",pathname:"/api/presentations",filename:"route",bundlePath:"app/api/presentations/route"},resolvedPagePath:"/Users/ykpark/Documents/simple_ppt/app/api/presentations/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:h,headerHooks:w,staticGenerationBailout:b}=I,x="/api/presentations/route";function O(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}},8234:(e,t,r)=>{r.d(t,{p:()=>o});var i=r(86323);let s="https://bwgndhxhnduoouodxngw.supabase.co",a=process.env.SUPABASE_SERVICE_ROLE_KEY||"placeholder-service-key";(0,i.eI)(s,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ3Z25kaHhobmR1b291b2R4bmd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0NzU1NzUsImV4cCI6MjA1ODA1MTU3NX0.AyLamOktfK8EVYL-a5oB6v9IlUsSuQ99-nkdQXAjeRM");let o=(0,i.eI)(s,a,{auth:{autoRefreshToken:!1,persistSession:!1}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[638,206,323],()=>r(76240));module.exports=i})();